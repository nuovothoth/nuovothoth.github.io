"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectDraftPath = void 0;

var _backendHelper = require("../lib/backendHelper");

var _collections = require("../reducers/collections");

const selectDraftPath = (state, collection, entry) => {
  const config = state.config;

  try {
    // slugFormatter throws in case an identifier is missing from the entry
    // we can safely ignore this error as this is just a preview path value
    const slug = (0, _backendHelper.slugFormatter)(collection, entry.get('data'), config.get('slug'));
    return (0, _collections.selectEntryPath)(collection, slug);
  } catch (e) {
    return '';
  }
};

exports.selectDraftPath = selectDraftPath;